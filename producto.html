<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Aplicación de productos</title>
    <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/global.js"></script>
    <script src="assets/js/model.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="assets/js/menu.js"></script>
    <script src="assets/js/view/productoView.js"></script>
    <link href="assets/css/style.css" rel="stylesheet"/>
  </head>
  <body>
    <header class="cabecera">
      <nav class="container navbar h-menu">
        <div class="c-logo">
          <div class="hamburger me-2" onclick="MenuInstance.handleMenu();">
            <section class="btnMenu mt-2 rounded-circle p-1" style="background-color: black; color: white;"style="background-color: black; color: white;">
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"/>
              </svg>
            </section>
          </div>
          <div class="logo">
            <a class="navbar-brand content-logo-texto" href="index.html">Book's Shop</a>
          </div>
        </div>
        <div style="justify-content: end; display: flex;">
          <div class="icons">
            <div class="mx-0" style="display: flex;">
              <section class="btnMenu admin mt-2 mx-2 rounded-circle p-2" style="background-color: black; color: white;"style="background-color: black; color: white;">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-person-fill-gear" viewBox="0 0 16 16">
                  <path d="M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0m-9 8c0 1 1 1 1 1h5.256A4.5 4.5 0 0 1 8 12.5a4.5 4.5 0 0 1 1.544-3.393Q8.844 9.002 8 9c-5 0-6 3-6 4m9.886-3.54c.18-.613 1.048-.613 1.229 0l.043.148a.64.64 0 0 0 .921.382l.136-.074c.561-.306 1.175.308.87.869l-.075.136a.64.64 0 0 0 .382.92l.149.045c.612.18.612 1.048 0 1.229l-.15.043a.64.64 0 0 0-.38.921l.074.136c.305.561-.309 1.175-.87.87l-.136-.075a.64.64 0 0 0-.92.382l-.045.149c-.18.612-1.048.612-1.229 0l-.043-.15a.64.64 0 0 0-.921-.38l-.136.074c-.561.305-1.175-.309-.87-.87l.075-.136a.64.64 0 0 0-.382-.92l-.148-.045c-.613-.18-.613-1.048 0-1.229l.148-.043a.64.64 0 0 0 .382-.921l-.074-.136c-.306-.561.308-1.175.869-.87l.136.075a.64.64 0 0 0 .92-.382zM14 12.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"/>
                </svg>
              </section>
              <section onclick="MenuInstance.handleOpenCarrito();" class="btnMenu mt-2 rounded-circle p-2" style="background-color: black; color: white;">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-cart-fill" viewBox="0 0 16 16">
                  <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
                </svg>
              </section>
            </div>
          </div>
        </div>
      </nav>
      <ul class="menu">
        <li class="nav-item">
          <a title="Pagina Inicio" class="nav-link" href="index.html">Inicio</a>
        </li>
        <li class="nav-item">
            <a class="nav-link active" href="producto.html">Productos</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="categoria.html">Categorias</a>
        </li>
        <li class="nav-item adminSalir">
          <a class="nav-link" href="noticia2.html">Salir</a>
      </li>
      </ul>
    </header>
    <div class="container contenedor-main">
      <div class="container-data pt-2 pb-3" style="width: 100%;">
        <div class="col c-listado">
          <h3>Listado de Productos</h3>
          <div class="text-end">
            <button onclick="ProductoViewInstance.handleNuevo();" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalForm" data-bs-whatever="@mdo">Nuevo</button>
          </div>
          <div class="table-responsive">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th scope="col">Id</th>
                  <th scope="col">Código</th>
                  <th scope="col">Nombre</th>
                  <th scope="col">Categoria</th>
                  <th scope="col">Precio</th>
                  <th scope="col">Stock</th>
                  <th scope="col" class="col-auto" sec:authorize="hasAuthority('ADMIN')">&nbsp;</th>
                </tr>
              </thead>
              <tbody>
                
              </tbody>
            </table>
        </div>
        </div>
      </div>
    </div>
    <div class="content-carrito" id="contentCarrito">
      <div class="cerrar" onclick="MenuInstance.handleClosedCarrito();">
        <section class="mt-2 rounded-circle p-1" style="background-color: white; color: black;"style="background-color: black; color: white;">
          <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/>
          </svg>
        </section>
      </div>
      <div class="py-3 mt-1" style="width: 85%;">
        <div class="text-center"><h5>Cesta</h5></div>
        <div class="car-items mt-5">
          <section class="car-item col-sm-12">
            <img src="" class="card-img-top" alt="Imagen 1">
            <section class="card-body1">
              <h5 class="card-title">Título 1</h5>
              <p class="card-text">Descripción breve de la tarjeta.</p>
            </section>
          </section>
          <hr />
          <section class="car-item col-sm-12">
            <img src="" class="card-img-top" alt="Imagen 1">
            <section class="card-body1">
              <h5 class="card-title">Título 2</h5>
              <p class="card-text">Descripción breve de la tarjeta.</p>
            </section>
          </section>
          <hr />
          <section class="car-item col-sm-12">
            <img src="" class="card-img-top" alt="Imagen 1">
            <section class="card-body1">
              <h5 class="card-title">Título 2</h5>
              <p class="card-text">Descripción breve de la tarjeta.</p>
            </section>
          </section>
        </div>
        
      </div>
    </div>
    <footer class="text-center py-5">
      <div>Copyright © 2025 UAH - Frontend</div>
    </footer>
    
    <div class="modal fade" data-bs-backdrop="static" id="modalForm" tabindex="-1" aria-labelledby="formTitle" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="formTitle"></h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="formData" class="row g-3">
              <div class="col-md-3">
                <label for="recipient-codigo" class="col-form-label">Código <span class="text-danger">*</span></label>
                <input type="hidden" id="idData" />
                <input type="text" disabled class="form-control" id="txtCodigo" placeholder="Ingresar Código">
              </div>
              <div class="col-md-9">
                <label for="recipient-name" class="col-form-label">Nombre <span class="text-danger">*</span></label>
                <input type="text" class="form-control" id="txtNombre" placeholder="Ingresar Nombre">
              </div>
              <div class="col-md-12">
                <label for="recipient-name" class="col-form-label">Categoria <span class="text-danger">*</span></label>
                <select class="form-control" id="txtCategoria"></select>
              </div>
              <div class="col-md-6">
                <label for="recipient-name" class="col-form-label">Precio <span class="text-danger">*</span></label>
                <input type="number" class="form-control" id="txtPrecio" placeholder="Ingresar Precio">
              </div>
              <div class="col-md-6">
                <label for="recipient-stock" class="col-form-label">Stock <span class="text-danger">*</span></label>
                <input type="number" class="form-control" id="txtStock" placeholder="Ingresar Stock">
              </div>
              <div class="col-md-12">
                <label for="recipient-imagen" class="col-form-label">Imagen <span class="text-danger">*</span></label>
                <input type="hidden" class="form-control" id="txtImagenB64" />
                <img class="hideElement imgForm" id="imagenB64" src=""  />
                <input type="file" class="form-control" id="txtImagen" placeholder="Ingresar Nombre">
              </div>
              <div class="col-md-12">
                <label for="recipient-descripcion" class="col-form-label">Descripción <span class="text-danger">*</span></label>
                <textarea class="form-control" placeholder="Descripción del producto" id="txtDescripcion"></textarea>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
            <button onclick="ProductoViewInstance.handleGuardar();" type="button" class="btn btn-primary">Guardar</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" data-bs-backdrop="static" id="modalDelete" tabindex="-1" aria-labelledby="formTitle" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="formTitle">Eliminar Categoria</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="mb-3">
              <label for="recipient-name" class="col-form-label">Esta seguro de eliminar la categoria "<span class="fw-bold" id="data-delete-txt"></span>"</label>
              <input type="hidden" id="idDataDelete" />
            </div>
          </div>
          <div class="modal-footer">
            <button onclick="ProductoViewInstance.handleDelete();" type="button" class="btn btn-danger">Aceptar</button>
          </div>
        </div>
      </div>
    </div>
    
    <script>
      MainInstance.init()
      ProductoViewInstance.init()
    </script>
  </body>
</html>
